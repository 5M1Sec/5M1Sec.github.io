[{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"This post will cover the basic function of the project, sending and receiving videos. I choose the official API for camera sending usage. My site also have a copy with a table of content that helps you navigate the content. It is a higher level implementation of OpenMAX. There is also a Python library for Pi camera that you can use. ","date":"2020-08-10","objectID":"/posts/pi-security-cam-3/:0:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Sending and Receiving Videos [Part 3]","uri":"/posts/pi-security-cam-3/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Save Video Locally Run raspivid --timeout 0 --bitrate 800000 --segment 10000 -v -a 4 -a %Y-%m-%d-%X --output video_%c.h264 in the terminal of Pi. --timeout 0 : It will run the camera until a manually interruption. --bitrate 800000 The bitrate is 0.8Mbits/s. --segment 10000 The video is broken into 10 seconds segment each. -v You can see all information in the terminal. -a 4 -a %Y-%m-%d-%X It will make a timestamp caption in the video. --output video_%c.h264 It will output to a timestamp file name. There are also many options to customize. You can check out the official documentation for more details. ","date":"2020-08-10","objectID":"/posts/pi-security-cam-3/:1:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Sending and Receiving Videos [Part 3]","uri":"/posts/pi-security-cam-3/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Receiving Video from Another Machine ","date":"2020-08-10","objectID":"/posts/pi-security-cam-3/:2:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Sending and Receiving Videos [Part 3]","uri":"/posts/pi-security-cam-3/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Receiving The above code does the following things Receive data via the port number on the top. Write the data into a file with current time in binary mode. The video duration can be adjusted at the top. Clean old videos in a given interval. You can check out the raw file and run python pi_cam_server.py to initial the server. ","date":"2020-08-10","objectID":"/posts/pi-security-cam-3/:2:1","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Sending and Receiving Videos [Part 3]","uri":"/posts/pi-security-cam-3/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Sending Video When you run the server code, it will output your local IP address. The local IP address will be used. You will also copy the port number from the server code. My code is 12345, you can change to other number you like. Note: port number 0 - 1024 are reserved for special usage. Once the receiving code is running. Run the following commend in the terminal of Pi. raspivid -t 0 --bitrate 100000 -n -v -o udp://YOUR-ADDRESS:PORT-NUMBER -ih -a 4 -a %Y-%m-%d-%X The sending commend is the same as the one in saving locally. But the output file is now a UDP connection. Replace YOUR-ADDRESS to your address and your port number, e.g. 192.168.86.22:12345. There are also many options to customize. You can check out the official documentation for more details. Note Argument -ih is needed since we are slicing video in the server side. Without adding headers, only the first video can be play by the media player. ","date":"2020-08-10","objectID":"/posts/pi-security-cam-3/:2:2","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Sending and Receiving Videos [Part 3]","uri":"/posts/pi-security-cam-3/"},{"categories":["Computer Science","Raspberry Pi"],"content":"The following script will monitor Raspberry Pi temperature. #!/bin/bash while [ : ] do command=`/opt/vc/bin/vcgencmd measure_temp` echo $command sleep 3 done The script will print the temperature every 3 seconds. You can run vcgencmd measure_temp for one temperature check. Change sleep 3 to other number for different intervals. ","date":"2020-08-07","objectID":"/posts/pi-temp/:0:0","tags":["Raspberry-Pi","Pi-Temperature"],"title":"Simple Bash Script for Monitoring Raspberry Pi Temperature","uri":"/posts/pi-temp/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Setting up Pi There are already many guide for this. I will briefly introduce the procedure here. Please look for other guide for troubleshooting. Go to the official website to download the Raspbian OS. You will download an imager burner. Connect your Pi to your PC via usb. Flash the image to your Pi. If you are doing headless setup. You will need to enable SSH in a config file. Please refer to other guide. ","date":"2020-08-06","objectID":"/posts/pi-security-cam-2/:1:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Setting Up Hardware and Software [Part 2]","uri":"/posts/pi-security-cam-2/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Connecting Pi Camera Module You need to carefully pull out the black bar at the connector so the ribbon can be inserted. Connect the Pi camera module as the following orientation: The ribbon is straight across the two connector. The black side of the ribbon will face the same side of the back of camera. ","date":"2020-08-06","objectID":"/posts/pi-security-cam-2/:2:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Setting Up Hardware and Software [Part 2]","uri":"/posts/pi-security-cam-2/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Enable Camera Module in Pi Run sudo raspi-config in the Terminal. Use arrow key to navigate, and enter to confirm. Select Interfacing Options Select Camera Choose Ok Then you will prompt to reboot. If you do this procedure before connecting the camera. You will need to reboot after connecting the camera. Run sudo reboot if you are unfamiliar with the terminal. ","date":"2020-08-06","objectID":"/posts/pi-security-cam-2/:3:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Setting Up Hardware and Software [Part 2]","uri":"/posts/pi-security-cam-2/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Test Camera Run raspistill -v -o out.jpg in the Terminal. Inspect if there is any error in the output. You can check by running ls to see if there is a out.jpg file. ","date":"2020-08-06","objectID":"/posts/pi-security-cam-2/:4:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Setting Up Hardware and Software [Part 2]","uri":"/posts/pi-security-cam-2/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"I wanted a security camera for a while. There are many reasons that I am insist building it. Of course, the primary reason is for fun. If you are looking for a complete product, there are some open source pi security projects built already. For example, the MotionEyeOS. I personally have not installed it, but you can check out the YouTube for other people’s review. I want my Pi run other tasks whiling serving as a security camera. So I want to keep it running Raspberry Pi OS (formerly known as Raspbian). FYI, there is also a Python library for the Pi camera, you can use it for your project. I will not rely on that. Reinventing the wheel is not useful, but I hope I will learn something from doing it. I like to plan things before actually doing it. Like a normal computer science project, the plan have to be scalable. My plan is using multiple cameras and sending the videos to the root server in-house. The root server can be attached to an additional storage with better cooling. The root server will also compute facial detention if the computation is possible in the Pi. ","date":"2020-08-02","objectID":"/posts/pi-security-cam-1/:0:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Motivation and Hardwares [Part 1]","uri":"/posts/pi-security-cam-1/"},{"categories":["Pi Security Cam Project","Computer Science","Raspberry Pi"],"content":"Hardwares Raspberry Pi Zero Raspberry Pi Zero is the cheaper model in the Pi family. I recommend Pi zero because it is sufficient for this usage. From inspecting top, Raspberry Pi Zero only has 12% CPU usage while taking video and encoding it. The essentials are Pi Zero, SD card, micro-usb cable and power adapter. Temperature wise, my kit came with a heatsink. I put the Pi Zero under 33°C (91.4°F) on a partial cloudy day. Being directed heated from sunshine for a while, the highest core temperature was 77°C. I think it works for me. I found this Vilros Raspberry Pi Zero combo very promising. You probably will need to buy the standalone power adapter(like the one your phone is using) and longer cable for the security camera usage. You can also look for the other combos, but looking the one with w, it stands for the wireless. You will need to buy a separate SD card since this combo does not include one. I recommend 16GB or up for the storage. The 16GB storage will provide you a greater flexibility. In case you want to transform it to anther project. This combo doesn’t include HDMI cable, keyboard, mouse. If you do not have these, you will need to install it as headless(headless means no monitor output). The headless setup require you to use SSH method. Do not frustrate if you do not what SSH is. The whole process is not difficult. Pi Camera I recommend buying the first generation camera, which is under $10. The second generation is about $30, the newer HQ one is $50. I think the first generation camera is capable enough for the security camera usage. Please do note that the ribbon cable is different for the regular Pi and Pi zero. My purchase had the Pi zero ribbon cable included. I bough this one My Root Server (Optional) This is optional. You can save the video in the Pi Zero. However, if your Pi is stollen, your data will also be gone. It is doable if you want to use it for in-house application. I used my previous Pi 4 as a root server. Hope it can also handle facial detention computation. It seems struggle with it. I am still optimizing the code for the facial detention. ","date":"2020-08-02","objectID":"/posts/pi-security-cam-1/:1:0","tags":["Raspberry-Pi","Pi-Camera","Security-Camera"],"title":"Raspberry Pi Security Cam From Scratch: Motivation and Hardwares [Part 1]","uri":"/posts/pi-security-cam-1/"},{"categories":["Sharing","Computer Science"],"content":"Discourse is an open source forum framework. I found it is used in the forum I visited. I did an installation on the $5 Digital Ocean Droplet. Then I realize a lot of forums are using it by recognizing its optional styles. The official website is here. At first glance, the website does not mention self-hosting options. But in the “about” page, you will find the Github repository. ","date":"2020-07-22","objectID":"/posts/discourse/:0:0","tags":["Discourse","Form"],"title":"Forum Framework Recommendation: Discourse","uri":"/posts/discourse/"},{"categories":["Sharing","Computer Science"],"content":"Note on Digital Ocean Droplet The installation is extremely easy. From what I have searched, for $5 droplet, Digital Ocean does not support installing it via the platform. You have to manually install it, but do not worry, it is simple. The installation instruction can be found here. I spent most of the time setting up the Email server. ","date":"2020-07-22","objectID":"/posts/discourse/:1:0","tags":["Discourse","Form"],"title":"Forum Framework Recommendation: Discourse","uri":"/posts/discourse/"},{"categories":["Cheatsheet","Computer Science"],"content":"I was very satisfied about the productivity of i3wm under Linux. Amethyst is the replacement that I found under MacOS. I list the default shortcuts with some organizations for getting used to it. ","date":"2020-07-22","objectID":"/posts/amethyst/:0:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Cheatsheet","Computer Science"],"content":"Mod Key/ Super Key Default Shortcut Description mod1 option + shift mod2 ctrl + option + shift And defines the following commands, mostly a mapping to xmonad key combinations. ","date":"2020-07-22","objectID":"/posts/amethyst/:1:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Cheatsheet","Computer Science"],"content":"Change Layout Default Shortcut Description mod1 + space Cycle layout forward mod2 + space Cycle layout backwards — — mod1 + h Shrink the main pane mod1 + l Expand the main pane — — mod1 + , Increase main pane count mod1 + . Decrease main pane count ","date":"2020-07-22","objectID":"/posts/amethyst/:2:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Cheatsheet","Computer Science"],"content":"Float Window Default Shortcut Description mod1 + t Toggle float for focused window ","date":"2020-07-22","objectID":"/posts/amethyst/:3:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Cheatsheet","Computer Science"],"content":"Change Focus Window Default Shortcut Description mod2 + left Throw focused window to space left mod2 + right Throw focused window to space right mod2 + 0 - 9 Throw focused window to space 0 - 9 — — mod2 + w Throw focused window to screen 1 mod2 + e Throw focused window to screen 2 mod2 + r Throw focused window to screen 3 mod2 + q Throw focused window to screen 4 — — mod1 + w Focus Screen 1 mod1 + e Focus Screen 2 mod1 + r Focus Screen 3 mod1 + q Focus Screen 4 — — mod1 + j Move focus counter clockwise mod1 + k Move focus clockwise mod1 + p Move focus to counter clockwise screen mod1 + n Move focus to clockwise screen — — mod2 + h Swap focused window to counter clockwise screen mod2 + l Swap focused window to clockwise screen mod2 + j Swap focused window counter clockwise mod2 + k Swap focused window clockwise mod1 + enter Swap focused window with main window ","date":"2020-07-22","objectID":"/posts/amethyst/:4:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Cheatsheet","Computer Science"],"content":"Miscellaneous Default Shortcut Description mod1 + i Display current layout mod2 + t Toggle global tiling mod1 + a Select tall layout mod1 + s Select wide layout mod1 + d Select fullscreen layout mod1 + f Select column layout — — mod1 + z Force windows to be reevalulated mod2 + z Relaunch Amethyst none Select tall-right layout none Select middle-wide layout none Select row layout none Select floating layout none Select widescreen-tall layout none Select bsp layout ","date":"2020-07-22","objectID":"/posts/amethyst/:5:0","tags":["Amethyst","MacOS"],"title":"Amethyst Shortcuts - MacOS Tiling Window Management","uri":"/posts/amethyst/"},{"categories":["Amateur Astronomy"],"content":"Recently, I purchased my first telescope. Soon I conducted my first observing session in my backyard. It was full moon, but the view condition isn’t that perfect. The view though telescope is wonderful, but not as astonishing as I imagined. I took some pictures though telescope by my phone. It is not perfectly but I still love it. ","date":"2020-07-12","objectID":"/posts/first-observation/:0:0","tags":["Moon","Telescope","Stargazing"],"title":"First Moon Observation","uri":"/posts/first-observation/"},{"categories":["Amateur Astronomy"],"content":"Images I cropped the image for file sizing. 9mm\" 9mm 30mm\" 30mm Overall, I was very exciting during the whole observation. Recent weather condition is disappointing, hopefully I can have next observing session soon. ","date":"2020-07-12","objectID":"/posts/first-observation/:1:0","tags":["Moon","Telescope","Stargazing"],"title":"First Moon Observation","uri":"/posts/first-observation/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Note This is a cheatsheet that came along with the installation of Manjaro i3wm. I ported the PDF version to this Markdown format. From the signature, the original author is oberon. It is tedious for me to open helper PDF every time and resize it to my preference. I hope this will help you navigating in the i3. ","date":"2020-06-20","objectID":"/posts/i3-help/:0:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Welcome to manjaro i3! The default mod-key is \u003cSuper\u003e (Windows-key). Look\u0026Feel can be changed with Lxappearance. For wallpaper selection use Nitrogen. Audio: The default is Alsa with Volumeicon. If you’d like to use Pulseaudio (plus 32MB) please run install_pulse in a terminal to install all necessary packages and have your config adjusted automatically. This can be reverted by running rm_pulse. ","date":"2020-06-20","objectID":"/posts/i3-help/:1:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Most important shortcuts open new terminal window - mod+\u003cEnter\u003e kill focused container - mod+\u003cShift\u003e+q open dmenu –mod+d categorized menu ‘morc_menu’ - mod+z tile vertically - mod+v tile horizontally – mod+h toggle split direction - mod+q toggle floating - mod+\u003cShift\u003e+Space toggle fullscreen - mod+f toggle sticky - mod+\u003cShift\u003e+s hide/show i3status-bar – mod+m ","date":"2020-06-20","objectID":"/posts/i3-help/:2:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Application Shortcuts Bmenu (CLI configuration tool) - mod+Ctrl+b Webbrowser Palemoon(Open browser) - mod+F2 Filemanager Pcmanfm – mod+F3 Root Filemanager - mod+\u003cShift\u003e+F3 Alsamixer (or Pavucontrol if you have upgraded to Pulseaudio) – mod+\u003cCtrl\u003e+m Musicplayer moc - mod+F5 Screenshot of whole screen - \u003cPrint\u003e Screenshot of focused container - mod+\u003cPrint\u003e Screenshot of selection - mod+\u003cShift\u003e+\u003cPrint\u003e Switch off transparency (kill Compton) - mod+t Switch transparency back on - mod+\u003cCtrl\u003e+t restart Dunst - mod+\u003cShift\u003e+d xkill – mod+\u003cCtrl\u003e+x ","date":"2020-06-20","objectID":"/posts/i3-help/:3:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Navigation change focus - mod+arrowkeys or mod+j,k,l,ö change focus between tiling / floating windows - mod+space move focused container - od+\u003cShift\u003e+arrowkeys or mod+\u003cShift\u003e+j,k,l,ö move floating window with the mouse – hold down mod switch to workspace number 1-8 - mod+1-8 navigate between workspaces - mod+\u003cCtrl\u003e+\u003cRight\u003e/\u003cLeft\u003e send focused container to workspace number 1-8 - mod+\u003cCtrl\u003e+1-8 move to workspace 1-8 with focused container - mod+\u003cShift\u003e+1-8 workspace back-and-forth – mod+b move container to workspace back-and-forth – mod+\u003cShift\u003e+b resize container - mod+r followed by arrowkeys or j,k,l,ö (or mod+) (exit resize mode with \u003cEnter\u003e or \u003cEsc\u003e) resize gaps – mod+\u003cShift\u003e+g followed by o (outer gaps) / i (inner gaps) and + / - / 0 (exit gaps mode with \u003cEnter\u003e or \u003cEsc\u003e) move focused container to scratchpad – mod+\u003cShift\u003e+- show (next) scratchpad window – mod+- ","date":"2020-06-20","objectID":"/posts/i3-help/:4:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Change desktop behavior stacking - mod+s tabbed - mod+w tiling / toggle split – mod+e ","date":"2020-06-20","objectID":"/posts/i3-help/:5:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Manjaro","Linux","Cheatsheet","Computer Science"],"content":"Change window borders none - mod+u 2 pixels - mod+y normal – mod+n reload the configuration file - mod+\u003cShift\u003e+c restart i3 in-place - mod+\u003cShift\u003e+r (preserves and reloads your session) lock screen - mod+9 exit session - mod+0 and select: (l)ock, (e)xit, (s)uspend, switch_(u)ser, (h)ibernate, (r)eboot, (+S)hutdown (cancel with \u003cEnter\u003e or \u003cEsc\u003e) or exit i3 - mod+\u003cShift\u003e+e (logs you out of your Xsession) !! All i3 settings, can be edited in ~/.i3/config !! HAVE FUN ! 8^} oberon ","date":"2020-06-20","objectID":"/posts/i3-help/:6:0","tags":["Linux","Manjaro","i3wm"],"title":"Manjaro I3 Shortcut Cheatsheet","uri":"/posts/i3-help/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"An archive of Raspberry Pi camera module documentation","date":"2020-06-14","objectID":"/posts/pi-cam-doc/","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Note This is an archived version from the Raspberry documentation website. It is convenient for me with a table of content, thus I post it here. This article is licensed under a Creative Commons Attribution 4.0 International Licence. Raspberry Pi Camera Module This document describes the use of the four Raspberry Pi camera applications, as of 30 April 2020. There are four applications provided: raspistill, raspivid, raspiyuv and raspividyuv. raspistill and raspiyuv are very similar and are intended for capturing images; raspivid and raspvidyuv are for capturing video. All the applications are driven from the command line, and written to take advantage of the MMAL API which runs over OpenMAX. The MMAL API provides an easier to use system than that presented by OpenMAX. Note that MMAL is a Broadcom-specific API used only on VideoCore 4 systems. The applications use up to four OpenMAX (MMAL) components: camera, preview, encoder, and null_sink. All applications use the camera component; raspistill uses the Image Encode component; raspivid uses the Video Encode component; and raspiyuv and raspividyuv don’t use an encoder, and sends their YUV or RGB output directly from the camera component to file. The preview display is optional, but can be used full-screen or directed to a specific rectangular area on the display. If preview is disabled, the null_sink component is used to ‘absorb’ the preview frames. The camera must produce preview frames even if these aren’t required for display, as they’re used for calculating exposure and white balance settings. In addition, it’s possible to omit the filename option (in which case the preview is displayed but no file is written), or to redirect all output to stdout. Command line help is available by typing just the application name in the command line. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:0:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Setting up See Camera Setup. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:1:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Troubleshooting If the Camera Module isn’t working correctly, there are number of things to try: Is the ribbon cable attached to the Camera Serial Interface (CSI), not the Display Serial Interface (DSI)? The ribbon connector will fit into either port. The Camera port is located near the HDMI connector. Are the ribbon connectors all firmly seated, and are they the right way round? They must be straight in their sockets. Is the Camera Module connector, between the smaller black Camera Module itself and the PCB, firmly attached? Sometimes this connection can come loose during transit or when putting the Camera Module in a case. Using a fingernail, flip up the connector on the PCB, then reconnect it with gentle pressure. It engages with a very slight click. Don’t force it; if it doesn’t engage, it’s probably slightly misaligned. Have sudo apt update and sudo apt full-upgrade been run? Has raspi-config been run and the Camera Module enabled? Is your power supply sufficient? The Camera Module adds about 200-250mA to the power requirements of your Raspberry Pi. If things are still not working, try the following: Error : raspistill/raspivid command not found. This probably means your update/upgrade failed in some way. Try it again. Error : ENOMEM. The Camera Module is not starting up. Check all connections again. Error : ENOSPC. The Camera Module is probably running out of GPU memory. Check config.txt in the /boot/ folder. The gpu_mem option should be at least 128. Alternatively, use the Memory Split option in the Advanced section of raspi-config to set this. If you’ve checked all the above issues and the Camera Module is still not working, try posting on our forums for more help. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:2:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Common command line options ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:3:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Preview window --preview, -p Preview window settings \u003c'x,y,w,h'\u003e Allows the user to define the size of the preview window and its location on the screen. Note this will be superimposed over the top of any other windows/graphics. --fullscreen, -f Fullscreen preview mode Forces the preview window to use the whole screen. Note that the aspect ratio of the incoming image will be retained, so there may be bars on some edges. --nopreview, -n Do not display a preview window Disables the preview window completely. Note that even though the preview is disabled, the camera will still be producing frames, so will be using power. --opacity, -op Set preview window opacity Sets the opacity of the preview windows. 0 = invisible, 255 = fully opaque. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:3:1","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Camera control options --sharpness, -sh Set image sharpness (-100 - 100) Sets the sharpness of the image. 0 is the default. --contrast, -co Set image contrast (-100 - 100) Sets the contrast of the image. 0 is the default. --brightness, -br Set image brightness (0 - 100) Sets the brightness of the image. 50 is the default. 0 is black, 100 is white. --saturation, -sa Set image saturation (-100 - 100) Sets the colour saturation of the image. 0 is the default. --ISO, -ISO Set capture ISO (100 - 800) Sets the ISO to be used for captures. --vstab, -vs Turn on video stabilisation In video mode only, turns on video stabilisation. --ev, -ev Set EV compensation (-10 - 10) Sets the EV compensation of the image. Default is 0. --exposure, -ex Set exposure mode Possible options are: auto: use automatic exposure mode night: select setting for night shooting nightpreview: backlight: select setting for backlit subject spotlight: sports: select setting for sports (fast shutter etc.) snow: select setting optimised for snowy scenery beach: select setting optimised for beach verylong: select setting for long exposures fixedfps: constrain fps to a fixed value antishake: antishake mode fireworks: select setting optimised for fireworks Note that not all of these settings may be implemented, depending on camera tuning. --flicker, -fli Set flicker avoidance mode Set a mode to compensate for lights flickering at the mains frequency, which can be seen as a dark horizontal band across an image. Flicker avoidance locks the exposure time to a multiple of the mains flicker frequency (8.33ms for 60Hz, or 10ms for 50Hz). This means that images can be noisier as the control algorithm has to increase the gain instead of exposure time should it wish for an intermediate exposure value. auto can be confused by external factors, therefore it is preferable to leave this setting off unless actually required. Possible options are: off: turn off flicker avoidance auto: automatically detect mains frequency 50hz: set avoidance at 50Hz 60hz: set avoidance at 60Hz --awb, -awb Set Automatic White Balance (AWB) mode Modes for which colour temperature ranges (K) are available have these settings in brackets. off: turn off white balance calculation auto: automatic mode (default) sun: sunny mode (between 5000K and 6500K) cloud: cloudy mode (between 6500K and 12000K) shade: shade mode tungsten: tungsten lighting mode (between 2500K and 3500K) fluorescent: fluorescent lighting mode (between 2500K and 4500K) incandescent: incandescent lighting mode flash: flash mode horizon: horizon mode greyworld: Use this on the NoIR camera to fix incorrect AWB results due to the lack of the IR filter. Note that not all of these settings may be implemented, depending on camera type. --imxfx, -ifx Set image effect Set an effect to be applied to the image: none: no effect (default) negative: invert the image colours solarise: solarise the image posterise: posterise the image whiteboard: whiteboard effect blackboard: blackboard effect sketch: sketch effect denoise: denoise the image emboss: emboss the image oilpaint: oil paint effect hatch: hatch sketch effect gpen: graphite sketch effect pastel: pastel effect watercolour: watercolour effect film: film grain effect blur: blur the image saturation: colour saturate the image colourswap: not fully implemented washedout: not fully implemented colourpoint: not fully implemented colourbalance: not fully implemented cartoon: not fully implemented Note that not all of these settings may be available in all circumstances. --colfx, -cfx Set colour effect \u003cU:V\u003e The supplied U and V parameters (range 0 - 255) are applied to the U and Y channels of the image. For example, –colfx 128:128 should result in a monochrome image. --metering, -mm Set metering mode Specify the metering mode used for the preview and capture: average: average the whole frame for metering spot: spot metering backlit: assume a backlit image matrix: matrix metering --rotation, -rot Set image rotation (0 - 359) Sets the rotation of the image in the viewfinder and resulting image. This can take any value from 0 upwards, but due to hardware constraints only 0, 90, 180, and 270 degree rotations are supported. --hflip, -hf Set horizontal flip Flips the preview and saved image horizontally. --vflip, -vf Set vertical flip Flips the preview and saved image vertically. --roi, -roi Set sensor region of interest Allows the specification of the area of the sensor to be used as the source for the preview and capture. This is defined as x,y for the top-left corner, and a width and height, with all values in normalised coordinates (0.0 - 1.0). So, to set a ROI at halfway across and down the sensor, and a width and height of a quarter of the sensor, use: -roi 0.5,0.5,0.25,0.25 --shutter, -ss Set shutter speed/time Sets the shutter open time to the specified value (in microseconds). Shutter speed limits are as follows: Camera Version Max (microseconds) V1 (OV5647) 6000000 (i.e. 6s) V2 (IMX219) 10000000 (i.e. 10s) HQ (IMX477) 200000000 (i.e. 200s) Using values above these maximums will result in undefined behaviour. --drc, -drc Enable/disable dynamic range compression DRC changes the images by increasing the range of dark areas, and decreasing the brighter areas. This can improve the image in low light areas. off low med high By default, DRC is off. --stats, -st Use stills capture frame for image statistics Force recomputation of statistics on stills capture pass. Digital gain and AWB are recomputed based on the actual capture frame statistics, rather than the preceding preview frame. --awbgains, -awbg Sets blue and red gains (as floating point numbers) to be applied when -awb -off is set e.g. -awbg 1.5,1.2 --analoggain, -ag Sets the analog gain value directly on the sensor (floating point value from 1.0 to 8.0 for the OV5647 sensor on Camera Module V1, and 1.0 to 12.0 for the IMX219 sensor on Camera Module V2 and the IMX447 on the HQ Camera). --digitalgain, -dg Sets the digital gain value applied by the ISP (floating point value from 1.0 to 64.0, but values over about 4.0 will produce overexposed images) --mode, -md Sets a specified sensor mode, disabling the automatic selection. Possible values depend on the version of the Camera Module being used: Version 1.x (OV5647) Mode Size Aspect Ratio Frame rates FOV Binning 0 automatic selection 1 1920x1080 16:9 1-30fps Partial None 2 2592x1944 4:3 1-15fps Full None 3 2592x1944 4:3 0.1666-1fps Full None 4 1296x972 4:3 1-42fps Full 2x2 5 1296x730 16:9 1-49fps Full 2x2 6 640x480 4:3 42.1-60fps Full 2x2 plus skip 7 640x480 4:3 60.1-90fps Full 2x2 plus skip Version 2.x (IMX219) Mode Size Aspect Ratio Frame rates FOV Binning 0 automatic selection 1 1920x1080 16:9 0.1-30fps Partial None 2 3280x2464 4:3 0.1-15fps Full None 3 3280x2464 4:3 0.1-15fps Full None 4 1640x1232 4:3 0.1-40fps Full 2x2 5 1640x922 16:9 0.1-40fps Full 2x2 6 1280x720 16:9 40-90fps Partial 2x2 7 640x480 4:3 40-200fps1 Partial 2x2 1For frame rates over 120fps, it is necessary to turn off automatic exposure and gain control using -ex off. Doing so should achieve the higher frame rates, but exposure time and gains will need to be set to fixed values supplied by the user. HQ Camera Mode Size Aspect Ratio Frame rates FOV Binning/Scaling 0 automatic selection 1 2028x1080 169:90 0.1-50fps Partial 2x2 binned 2 2028x1520 4:3 0.1-50fps Full 2x2 binned 3 4056x3040 4:3 0.005-10fps Full None 4 1012x760 4:3 50.1-120fps Full 4x4 Scaled --camselect, -cs Selects which camera to use on a multi-camera system. Use 0 or 1. --annotate, -a Enable/set annotate flags or text Adds some text and/or metadata to the picture. Metadata is indicated using a bitmask notation, so add them together to show multiple parameters. For example, 12 will show time(4) and date(8), since 4+8=12. Text may include date/time placeholders by using the ‘%’ character, as used by strftime. Value Meaning Example Output -a 4 Time 20:09:33 -a 8 Date 10/28/15 -a 12 4+8=12 Show th","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:3:2","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Application-specific settings ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:4:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"raspistill --width, -w Set image width \u003csize\u003e --height, -h Set image height \u003csize\u003e --quality, -q Set JPEG quality \u003c0 to 100\u003e Quality 100 is almost completely uncompressed. 75 is a good all-round value. --raw, -r Add raw Bayer data to JPEG metadata This option inserts the raw Bayer data from the camera into the JPEG metadata. --output, -o Output filename \u003cfilename\u003e Specifies the output filename. If not specified, no file is saved. If the filename is ‘-’, then all output is sent to stdout. --latest, -l Link latest frame to filename \u003cfilename\u003e Makes a file system link under this name to the latest frame. --verbose, -v Output verbose information during run Outputs debugging/information messages during the program run. --timeout, -t Time before the camera takes picture and shuts down The program will run for the specified length of time, entered in milliseconds. It then takes the capture and saves it if an output is specified. If a timeout value is not specified, then it is set to 5 seconds (-t 5000). Note that low values (less than 500ms, although it can depend on other settings) may not give enough time for the camera to start up and provide enough frames for the automatic algorithms like AWB and AGC to provide accurate results. If set to 0, the preview will run indefinitely, until stopped with CTRL-C. In this case no capture is made. --timelapse, -tl time-lapse mode The specific value is the time between shots in milliseconds. Note that you should specify %04d at the point in the filename where you want a frame count number to appear. So, for example, the code below will produce a capture every 2 seconds, over a total period of 30s, named image0001.jpg, image0002.jpg and so on, through to image0015.jpg. --framestart, -fs Specifies the first frame number in the timelapse. Useful if you have already saved a number of frames, and want to start again at the next frame. --datetime, -dt Instead of a simple frame number, the timelapse file names will use a date/time value of the format aabbccddee, where aa is the month, bb is the day of the month, cc is the hour, dd is the minute, and ee is the second. --timestamp, -ts Instead of a simple frame number, the timelapse file names will use a single number which is the Unix timestamp, i.e. the seconds since 1970. -t 30000 -tl 2000 -o image%04d.jpg Note that the %04d indicates a 4-digit number, with leading zeroes added to make the required number of digits. So, for example, %08d would result in an 8-digit number. If a time-lapse value of 0 is entered, the application will take pictures as fast as possible. Note that there’s an minimum enforced pause of 30ms between captures to ensure that exposure calculations can be made. --thumb, -th Set thumbnail parameters (x:y:quality) Allows specification of the thumbnail image inserted into the JPEG file. If not specified, defaults are a size of 64x48 at quality 35. if --thumb none is specified, no thumbnail information will be placed in the file. This reduces the file size slightly. --demo, -d Run a demo mode \u003cmilliseconds\u003e This options cycles through the range of camera options. No capture is taken, and the demo will end at the end of the timeout period, irrespective of whether all the options have been cycled. The time between cycles should be specified as a millisecond value. --encoding, -e Encoding to use for output file Valid options are jpg, bmp, gif, and png. Note that unaccelerated image types (GIF, PNG, BMP) will take much longer to save than jpg, which is hardware accelerated. Also note that the filename suffix is completely ignored when deciding the encoding of a file. --restart, -rs Sets the JPEG restart marker interval to a specific value. Can be useful for lossy transport streams because it allows a broken JPEG file to still be partially displayed. --exif, -x EXIF tag to apply to captures (format as 'key=value') Allows the insertion of specific EXIF tags into the JPEG image. You can have up to 32 EXIF tag entries. This is useful for tasks like adding GPS metadata. For example, to set the longitude: --exif GPS.GPSLongitude=5/1,10/1,15/1 would set the longitude to 5 degs, 10 minutes, 15 seconds. See EXIF documentation for more details on the range of tags available; the supported tags are as follows: IFD0.\u003c or IFD1.\u003c ImageWidth, ImageLength, BitsPerSample, Compression, PhotometricInterpretation, ImageDescription, Make, Model, StripOffsets, Orientation, SamplesPerPixel, RowsPerString, StripByteCounts, XResolution, YResolution, PlanarConfiguration, ResolutionUnit, TransferFunction, Software, DateTime, Artist, WhitePoint, PrimaryChromaticities, JPEGInterchangeFormat, JPEGInterchangeFormatLength, YCbCrCoefficients, YCbCrSubSampling, YCbCrPositioning, ReferenceBlackWhite, Copyright\u003e EXIF.\u003c ExposureTime, FNumber, ExposureProgram, SpectralSensitivity, ISOSpeedRatings, OECF, ExifVersion, DateTimeOriginal, DateTimeDigitized, ComponentsConfiguration, CompressedBitsPerPixel, ShutterSpeedValue, ApertureValue, BrightnessValue, ExposureBiasValue, MaxApertureValue, SubjectDistance, MeteringMode, LightSource, Flash, FocalLength, SubjectArea, MakerNote, UserComment, SubSecTime, SubSecTimeOriginal, SubSecTimeDigitized, FlashpixVersion, ColorSpace, PixelXDimension, PixelYDimension, RelatedSoundFile, FlashEnergy, SpatialFrequencyResponse, FocalPlaneXResolution, FocalPlaneYResolution, FocalPlaneResolutionUnit, SubjectLocation, ExposureIndex, SensingMethod, FileSource, SceneType, CFAPattern, CustomRendered, ExposureMode, WhiteBalance, DigitalZoomRatio, FocalLengthIn35mmFilm, SceneCaptureType, GainControl, Contrast, Saturation, Sharpness, DeviceSettingDescription, SubjectDistanceRange, ImageUniqueID\u003e GPS.\u003c GPSVersionID, GPSLatitudeRef, GPSLatitude, GPSLongitudeRef, GPSLongitude, GPSAltitudeRef, GPSAltitude, GPSTimeStamp, GPSSatellites, GPSStatus, GPSMeasureMode, GPSDOP, GPSSpeedRef, GPSSpeed, GPSTrackRef, GPSTrack, GPSImgDirectionRef, GPSImgDirection, GPSMapDatum, GPSDestLatitudeRef, GPSDestLatitude, GPSDestLongitudeRef, GPSDestLongitude, GPSDestBearingRef, GPSDestBearing, GPSDestDistanceRef, GPSDestDistance, GPSProcessingMethod, GPSAreaInformation, GPSDateStamp, GPSDifferential\u003e EINT.\u003c InteroperabilityIndex, InteroperabilityVersion, RelatedImageFileFormat, RelatedImageWidth, RelatedImageLength\u003e Note that a small subset of these tags will be set automatically by the camera system, but will be overridden by any EXIF options on the command line. Setting --exif none will prevent any EXIF information being stored in the file. This reduces the file size slightly. --gpsdexif, -gps Applies real-time EXIF information from any attached GPS dongle (using GSPD) to the image; requires libgps.so to be installed. --fullpreview, -fp Full preview mode This runs the preview window using the full resolution capture mode. Maximum frames per second in this mode is 15fps, and the preview will have the same field of view as the capture. Captures should happen more quickly, as no mode change should be required. This feature is currently under development. --keypress, -k Keypress mode The camera is run for the requested time (-t), and a capture can be initiated throughout that time by pressing the Enter key. Pressing X then Enter will exit the application before the timeout is reached. If the timeout is set to 0, the camera will run indefinitely until the user presses X then Enter. Using the verbose option (-v) will display a prompt asking for user input, otherwise no prompt is displayed. --signal, -s Signal mode The camera is run for the requested time (-t), and a capture can be initiated throughout that time by sending a USR1 signal to the camera process. This can be done using the kill command. You can find the camera process ID using the pgrep raspistill command. kill -USR1 \u003cprocess id of raspistill\u003e --burst, -bm Sets burst capture mode. This prevents the camera from returning to preview mode in between captures, meaning that captures can be taken closer together. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:4:1","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"raspiyuv Many of the options for raspiyuv are the same as those for raspistill. This section shows the differences. Unsupported options: --exif, --encoding, --thumb, --raw, --quality Extra options : --rgb, -rgb Save uncompressed data as RGB888 This option forces the image to be saved as RGB data with 8 bits per channel, rather than YUV420. Note that the image buffers saved in raspiyuv are padded to a horizontal size divisible by 32, so there may be unused bytes at the end of each line. Buffers are also padded vertically to be divisible by 16, and in the YUV mode, each plane of Y,U,V is padded in this way. --luma, -y Only outputs the luma (Y) channel of the YUV image. This is effectively the black and white, or intensity, part of the image. --bgr, -bgr Saves the image data as BGR data rather than YUV. ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:4:2","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"raspivid --width, -w Set image width \u003csize\u003e Width of resulting video. This should be between 64 and 1920. --height, -h Set image height \u003csize\u003e Height of resulting video. This should be between 64 and 1080. --bitrate, -b Set bitrate Use bits per second, so 10Mbits/s would be -b 10000000. For H264, 1080p30 a high quality bitrate would be 15Mbits/s or more. Maximum bitrate is 25Mbits/s (-b 25000000), but much over 17Mbits/s won’t show noticeable improvement at 1080p30. --output, -o Output filename \u003cfilename\u003e Specify the output filename. If not specified, no file is saved. If the filename is ‘-’, then all output is sent to stdout. To connect to a remote IPv4 host, use tcp or udp followed by the required IP Address. e.g. tcp://192.168.1.2:1234 or udp://192.168.1.2:1234. To listen on a TCP port (IPv4) and wait for an incoming connection use --listen (-l) option, e.g. raspivid -l -o tcp://0.0.0.0:3333 will bind to all network interfaces, raspivid -l -o tcp://192.168.1.1:3333 will bind to a local IPv4. --listen, -l When using a network connection as the data sink, this option will make the sytem wait for a connection from the remote system before sending data. --verbose, -v Output verbose information during run Outputs debugging/information messages during the program run. --timeout, -t Time before the camera takes picture and shuts down The program will run for this length of time, then take the capture (if output is specified). If not specified, this is set to 5 seconds. Setting 0 will mean the application will run continuously until stopped with Ctrl-C. --demo, -d Run a demo mode \u003cmilliseconds\u003e This options cycles through the range of camera options. No capture is done, and the demo will end at the end of the timeout period, irrespective of whether all the options have been cycled. The time between cycles should be specified as a millisecond value. --framerate, -fps Specify the frames per second to record At present, the minimum frame rate allowed is 2fps, and the maximum is 30fps. This is likely to change in the future. --penc, -e Display preview image after encoding Switch on an option to display the preview after compression. This will show any compression artefacts in the preview window. In normal operation, the preview will show the camera output prior to being compressed. This option is not guaranteed to work in future releases. --intra, -g Specify the intra refresh period (key frame rate/GoP) Sets the intra refresh period (GoP) rate for the recorded video. H264 video uses a complete frame (I-frame) every intra refresh period, from which subsequent frames are based. This option specifies the number of frames between each I-frame. Larger numbers here will reduce the size of the resulting video, and smaller numbers make the stream less error-prone. --qp, -qp Set quantisation parameter Sets the initial quantisation parameter for the stream. Varies from approximately 10 to 40, and will greatly affect the quality of the recording. Higher values reduce quality and decrease file size. Combine this setting with a bitrate of 0 to set a completely variable bitrate. --profile, -pf Specify H264 profile to use for encoding Sets the H264 profile to be used for the encoding. Options are: baseline main high --level, -lev Specifies the H264 encoder level to use for encoding. Options are 4, 4.1, and 4.2. --irefresh, -if Sets the H264 intra-refresh type. Possible options are cyclic, adaptive, both, and cyclicrows. --inline, -ih Insert PPS, SPS headers Forces the stream to include PPS and SPS headers on every I-frame. Needed for certain streaming cases e.g. Apple HLS. These headers are small, so don’t greatly increase the file size. --spstimings, -stm Insert timing information into the SPS block. --timed, -td Do timed switches between capture and pause This options allows the video capture to be paused and restarted at particular time intervals. Two values are required: the on time and the off time. On time is the amount of time the video is captured, and off time is the amount it is paused. The total time of the recording is defined by the timeout option. Note that the recording may take slightly over the timeout setting depending on the on and off times. For example: raspivid -o test.h264 -t 25000 -timed 2500,5000 will record for a period of 25 seconds. The recording will be over a timeframe consisting of 2500ms (2.5s) segments with 5000ms (5s) gaps, repeating over the 20s. So the entire recording will actually be only 10s long, since 4 segments of 2.5s = 10s separated by 5s gaps. So: 2.5 record – 5 pause - 2.5 record – 5 pause - 2.5 record – 5 pause – 2.5 record gives a total recording period of 25s, but only 10s of actual recorded footage. --keypress, -k Toggle between record and pause on Enter keypress On each press of the Enter key, the recording will be paused or restarted. Pressing X then Enter will stop recording and close the application. Note that the timeout value will be used to signal the end of recording, but is only checked after each Enter keypress; so if the system is waiting for a keypress, even if the timeout has expired, it will still wait for the keypress before exiting. --signal, -s Toggle between record and pause according to SIGUSR1 Sending a USR1 signal to the raspivid process will toggle between recording and paused. This can be done using the kill command, as below. You can find the raspivid process ID using pgrep raspivid. kill -USR1 \u003cprocess id of raspivid\u003e Note that the timeout value will be used to indicate the end of recording, but is only checked after each receipt of the SIGUSR1 signal; so if the system is waiting for a signal, even if the timeout has expired, it will still wait for the signal before exiting. --split, -sp When in a signal or keypress mode, each time recording is restarted, a new file is created. --circular, -c Select circular buffer mode. All encoded data is stored in a circular buffer until a trigger is activated, then the buffer is saved. --vectors, -x Turns on output of motion vectors from the H264 encoder to the specified file name. --flush, -fl Forces a flush of output data buffers as soon as video data is written. This bypasses any OS caching of written data, and can decrease latency. --save-pts, -pts Saves timestamp information to the specified file. Useful as an imput file to mkvmerge. --codec, -cd Specifies the encoder codec to use. Options are H264 and MJPEG. H264 can encode up to 1080p, whereas MJPEG can encode upto the sensor size, but at decreased framerates due to the higher processing and storage requirements. --initial, -i Define initial state on startup Define whether the camera will start paused or will immediately start recording. Options are record or pause. Note that if you are using a simple timeout, and initial is set to pause, no output will be recorded. --segment, -sg Segment the stream into multiple files Rather than creating a single file, the file is split into segments of approximately the number of milliseconds specified. In order to provide different filenames, you should add %04d or similar at the point in the filename where you want a segment count number to appear e.g: --segment 3000 -o video%04d.h264 will produce video clips of approximately 3000ms (3s) long, named video0001.h264, video0002.h264 etc. The clips should be seamless (no frame drops between clips), but the accuracy of each clip length will depend on the intraframe period, as the segments will always start on an I-frame. They will therefore always be equal or longer to the specified period. The most recent version of Raspivid will also allow the file name to be time-based, rather than using a segment number. For example: --segment 3000 -o video_%c.h264 will produce file names formatted like so: video_Fri Jul 20 16:23:48 2018.h264 There are many different formatting options available — see here for a full list. Note than the %d and %u options are not available, as they are used for the segment number formatting, and that ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:4:3","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Examples ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:5:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Still captures By default, captures are done at the highest resolution supported by the sensor. This can be changed using the -w and -h command line options. Take a default capture after 2s (times are specified in milliseconds) on the viewfinder, saving in image.jpg: raspistill -t 2000 -o image.jpg Take a capture at a different resolution: raspistill -t 2000 -o image.jpg -w 640 -h 480 Reduce the quality considerably to reduce file size: raspistill -t 2000 -o image.jpg -q 5 Force the preview to appear at coordinate 100,100, with width 300 pixels and height 200 pixels: raspistill -t 2000 -o image.jpg -p 100,100,300,200 Disable preview entirely: raspistill -t 2000 -o image.jpg -n Save the image as a PNG file (lossless compression, but slower than JPEG). Note that the filename suffix is ignored when choosing the image encoding: raspistill -t 2000 -o image.png –e png Add some EXIF information to the JPEG. This sets the Artist tag name to Boris, and the GPS altitude to 123.5m. Note that if setting GPS tags you should set as a minimum GPSLatitude, GPSLatitudeRef, GPSLongitude, GPSLongitudeRef, GPSAltitude, and GPSAltitudeRef: raspistill -t 2000 -o image.jpg -x IFD0.Artist=Boris -x GPS.GPSAltitude=1235/10 Set an emboss image effect: raspistill -t 2000 -o image.jpg -ifx emboss Set the U and V channels of the YUV image to specific values (128:128 produces a greyscale image): raspistill -t 2000 -o image.jpg -cfx 128:128 Run preview for 2s, with no saved image: raspistill -t 2000 Take a time-lapse picture, every 10 seconds for 10 minutes (10 minutes = 600000ms), naming the files image_num_001_today.jpg, image_num_002_today.jpg and so on, with the latest picture also available under the name latest.jpg: raspistill -t 600000 -tl 10000 -o image_num_%03d_today.jpg -l latest.jpg Take a picture and send the image data to stdout: raspistill -t 2000 -o - Take a picture and send the image data to a file: raspistill -t 2000 -o - \u003e my_file.jpg Run the camera forever, taking a picture when Enter is pressed: raspistill -t 0 -k -o my_pics%02d.jpg ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:5:1","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Video captures Image size and preview settings are the same as for stills capture. Default size for video recording is 1080p (1920x1080). Record a 5s clip with default settings (1080p30): raspivid -t 5000 -o video.h264 Record a 5s clip at a specified bitrate (3.5Mbits/s): raspivid -t 5000 -o video.h264 -b 3500000 Record a 5s clip at a specified framerate (5fps): raspivid -t 5000 -o video.h264 -f 5 Encode a 5s camera stream and send the image data to stdout: raspivid -t 5000 -o - Encode a 5s camera stream and send the image data to a file: raspivid -t 5000 -o - \u003e my_file.h264 ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:5:2","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Web Archive","Raspberry Pi","Computer Science"],"content":"Shell error codes The applications described here will return a standard error code to the shell on completion. Possible error codes are: C Define Code Description EX_OK 0 Application ran successfully EX_USAGE 64 Bad command line parameter EX_SOFTWARE 70 Software or camera error 130 Application terminated by Ctrl-C ","date":"2020-06-14","objectID":"/posts/pi-cam-doc/:6:0","tags":["Raspberry-Pi","Pi-Camera","Web-Archive"],"title":"Raspberry Pi Camera Module Documentation","uri":"/posts/pi-cam-doc/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"This tutorial will help you setting up a Wireguard VPN on Raspberry Pi by using PiVPN installer. This article will use Raspberry Pi OS (Raspbian) for installation. The PiVPN site claims the installer will also work on Debian and Ubuntu. I choose Wireguard over OpenVPN due to the convenience of connecting though QR code. In OpenVPN, you have to transfer security key via USB stick and some extra works to transfer it to a phone. However OpenVPN has the option with more encryption bits, but more encryption bits will cost more to compute and slow the transfer time. You can find out more in the PiVPN website. I assume my audience have little background knowledge, so hope you can follow this without any problem. But I do not assume that you know how to type in the terminal. You will need the followings: Raspberry Pi The essentials are Raspberry Pi board, micro SD card, power cable and adapter. Your Raspberry Pi will need some forms of the Internet access, either trough WI-FI or ethernet. Have access to your router A modem is connected by the cable through your wall. A router is connected by the modem. Search the model up if you are not sure which one is router and which one is modem. You will need login to your router homepage. This is router brand dependent. A domain(optional, but highly recommended) The alternative NOIP option (free tier) requires you to active it every month, which is annoying to me. Having everything in control is neat, isn’t it? A domain will be used for setting up DNS entry. One domain can have multiple usage, such as setting up website. So do not be afraid the domain can only be used by this set-up. An overview of procedure (If you have a domain) Setting up a A-record for Dynamic DNS(DDNS) usage. (If you do not have a domain) Setting up NOIP for DDNS. Install PiVPN. Setting up a static private IP for the Pi in the router. Setting up port forwarding in the router. ","date":"2020-06-08","objectID":"/posts/pivpn/:0:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"About Dynamic DNS (DDNS): For analogy, a domain is the name of your address, like White House, and the IP is your actual address, 1600 Pennsylvania Ave NW, Washington, DC 20500. Remembering a IP address is harder than remembering a domain name. Even you can remember it for one time, our home IP can be changed over time. So our resolution is to have a domain name, e.g. exmaple.com, myblog.io, hello.cc, points to your IP address, and update it whenever your IP has changed. This is called dynamic DNS. Warning: NameSilo and DDNS Some domain registries and router provide the function of DDNS. Please note like NameSilo does not provide a DDNS option. But I did write a Python script for the DDNS of NameSilo domain. My recommendation If you do not have a domain, I recommend you set it up with NOIP first to make sure nothing is bugging you. When you have a working VPN connection, uninstall the PiVPN and reconfigure it with your own domain if you want. I recommend you uninstall the PiVPN rather than reconfigure it. I have to uninstall it to solve some unknown bugs during reconfiguration. ","date":"2020-06-08","objectID":"/posts/pivpn/:1:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Setting up with NOIP Go to NOIP website, after completing registration, create a hostname. You will need to enter your home IP address. Your public IP can be obtain by googling “my ip”. Please remember your entered domain. The setup is complete for the first installation. Depending on your system, you will need to read how to automatically update the IP address in the NOIP website. ","date":"2020-06-08","objectID":"/posts/pivpn/:2:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Setting up DDNS with Your Own Domain If you have set up the NOIP Please skip this section if you have set up the NOIP. ","date":"2020-06-08","objectID":"/posts/pivpn/:3:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Buying a Domain You will need to buy your domain name from some registries. You can do more research on this. Be cautious about the first year price and the renewing price. Some registries have a cheap first year price and higher renewing price, which costs more sustainably. I personally use NameSilo because it is cheap for a .com domain for me. ","date":"2020-06-08","objectID":"/posts/pivpn/:3:1","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Adding a DNS Record You will need to add a A-record that points to your home IP address. In NameSilo, it is under Manage DNS. ittosei.com is my apex/naked domain. Every domain that is in front of my apex domain is called subdomain, e.g. example.ittosei.com, ddns.ittosei.com. My apex domain is used for hosting my blog, but you can also use your apex domain for DDNS. You will need to enter your public IP in the IPV4 entry. Your public IP can be obtain by googling “my ip”. You do not need to concern about the TTL, leave it as default. ","date":"2020-06-08","objectID":"/posts/pivpn/:3:2","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Set up PiVPN ","date":"2020-06-08","objectID":"/posts/pivpn/:4:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Installation Open the terminal or SSH to Pi and run the following commands: curl -L https://install.pivpn.io | bash Controlling PiVPN installer interface You can navigate the interface with your arrow keys. Press space to select an option. Press enter to confirm. You can read the prompt and follow most of the prompt without any issue. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:1","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Setting up Static Private IP for Pi When encountering DHCP setting as following: Please take the note of the IP address and we will set it up as static. The Internet is in the same scale as post office. It is meant to be a world wide communication. Your public IP is your home address. But what if you only want to communicate within your house? All devices in your house has its IP address. Just like your public IP, your private IP also changes over time. It is due to the inactivity of the devices and the choice of your router. But fortunately, we can set it as a static IP at not cost. This is set by the router. Go to your router home page, find something like DHCP(Dynamic Host Configuration Protocol) IP reservation, or static IP. Set your Raspberry Pi with the IP above. You can also choose no to let the software to set it up. But manually set it up in the router is the better choice. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:2","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Select User Press space to select a user, then press enter. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:3","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Select VPN Protocol Select Wireguard. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:4","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Specify Output Port Please remember the port you entered here. You can change the port number, but do note that port from 0 to 1023 are reserved for the special usages. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:5","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Select DNS provider You can choose it by your preference. I just chose Google. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:6","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"DNS entry Select the public DNS entry. Enter the DDNS address you obtained from above. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:7","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Unattended Upgrade Select yes for the unattended upgrade. You should see a prompt for Installation Complete and reboot the Pi. ","date":"2020-06-08","objectID":"/posts/pivpn/:4:8","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"Port Forwarding in Router The Internet is composed with different subnetworks. You home is also a network composed by all of your devices. If you obtained your public IP, then you can probably wonder if both of your phone and laptop in your house have the same IP address. The answer is yes. All devices in your hose share the same IP address from your modem. The router doesn’t know how to handle the random incoming connection at port 51820. Thus we need to tell the router to forward the random incoming connection with port 51820 to our Pi to establish a VPN connection. You are required to do this with either Wireguard or OpenVPN. Go to your router homepage, and find port forwarding option. Forward the VPN port you choose and forward to the static private IP address of your Pi. SSH to your computer You can also use the same method to SSH your computer by forwarding a non-reserved port to port 22 of your computer. ","date":"2020-06-08","objectID":"/posts/pivpn/:5:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tutorials","Raspberry-Pi","Computer Science"],"content":"How to use PIVPN Type pivpn. A list of available commands will show up. Type pivpn add to add a client. Type pivpn -qr to see the QR code of your client. Download the Wireguard app for IOS or Android and scan the QR code you obtained. Now your secure connection is establish. At this stage, you are finished with the setup. ","date":"2020-06-08","objectID":"/posts/pivpn/:6:0","tags":["Rasberry Pi","VPN","Wireguard","DDNS","Ubuntu"],"title":"Setting Up Wireguard VPN in Raspberry Pi","uri":"/posts/pivpn/"},{"categories":["Tools","Computer Science"],"content":"Alternative DDNS of NOIP","date":"2020-06-07","objectID":"/posts/namesilo-ddns/","tags":["DDNS","Python","Namesilo"],"title":"Python Script for Namesilo DDNS","uri":"/posts/namesilo-ddns/"},{"categories":["Tools","Computer Science"],"content":"I set up the PIVPN for Raspberry Pi. I used NOIP for public DNS. I found it is quite annoying to click confirmation email from NOIP every month. I decided to setup a DDNS myself as an alternative of NOIP. I used the Namesilo API to check if my local DNS has been updated, and update it with the Namesilo API. The script can be found in this repo. You can also look up this page forcrontabusage. ","date":"2020-06-07","objectID":"/posts/namesilo-ddns/:0:0","tags":["DDNS","Python","Namesilo"],"title":"Python Script for Namesilo DDNS","uri":"/posts/namesilo-ddns/"}]